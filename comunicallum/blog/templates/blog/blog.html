{% extends 'core/base.html' %}
{% load static %}
{% block metatags %}
    <!-- Primary Meta Tags -->
    <title>Comunicallum - El Blog Oficial de Comunicallum.</title>
    <meta name="title" content="Comunicallum - El Blog Oficial de UpVent Technologies.">
    <meta name="description" content="El blog oficial de Comunicallum. Aquí podras encontrar tutoriales y artículos de todo tipo para mantenerte siempre informado.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://comunicallum.com/blog">
    <meta property="og:title" content="Comunicallum - El Blog Oficial de Comunicallum.">
    <meta property="og:description" content="El blog oficial de Comunicallum. Aquí podras encontrar tutoriales y artículos de todo tipo para mantenerte siempre informado.">
    <meta property="og:image" content="https://comunicallum.com/static/core/img/blog.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:site" content="@ComunicallumMX">
    <meta property="twitter:creator" content="@ComunicallumMX">
    <meta property="twitter:title" content="Comunicallum - El Blog Oficial de Comunicallum.">
    <meta property="twitter:description" content="El blog oficial de Comunicallum. Aquí podras encontrar tutoriales y artículos de todo tipo para mantenerte siempre informado.">
    <meta property="twitter:image" content="https://comunicallum.com/static/core/img/blog.png">
{% endblock %}


{% block body %}
    <div id="intro" class="p-5 text-center bg-light">
        <h1 class="mb-3">Blog</h1>
        <p class="mb-3 text-wrap lead">Bienvenido al blog de Comunicallum. Has llegado
            a la página principal para ver artículos sobre marketing,
            mejoras en el trabajo de marca, páginas web, SEO
            y todo tipo de contenido relacionado con el buen crecimiento de tu empresa. <i class="bi bi-heart-fill text-danger"></i>
        </p>
    </div>

    <main class="my-5">
        <div class="container">
            <section class="text-center">
                <h4 class="mb-5 fw-bold">Últimos Artículos</h4>

                <div class="row">
                    {% for post in posts %}
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card shadow-sm border-0">
                                <img alt="Portada de blog" src="{{ post.image.url }}" class="card-img-top" loading="lazy"/>
                                <div class="card-body">
                                    <p class="h5 card-title fw-bold">{{ post.title }}</p>
                                    <span class="badge rounded-pill bg-primary">Categoría: {{post.category}}</span>
                                    <hr />
                                    <p class="card-text text-muted fw-light">
                                        {{post.description|truncatewords:30}}
                                    </p>
                                    <hr />
                                    <a href="{% url 'blog:post' post.slug %}" class="btn btn-primary stretched-link mt-2">Leer más... <i class="bi bi-book"></i></a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </section>
            <!-- Pagination -->
            <nav class="my-4" aria-label="...">
                <ul class="pagination justify-content-center">

                    {% if posts.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page=1" tabindex="-1" aria-disabled="true">Primero</a>
                        </li>

                        <li class="page-item">
                            <a class="page-link" href="?page={{ posts.previous_page_number }}" tabindex="-1" aria-disabled="true">{{ posts.previous_page_number  }}</a>
                        </li>
                    {% endif %}

                    <li class="page-item active" aria-current="page"><a class="page-link" href="#">{{ posts.number }}</a></li>

                    {% if posts.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{posts.next_page_number}}">{{posts.next_page_number}}</a>
                    </li>

                    <li class="page-item"><a class="page-link" href="?page={{posts.paginator.num_pages}}">Último</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </main>
{% endblock %}

{% block js %}
    <script async defer type="text/javascript" src="{% static 'core/js/blog.js' %}"></script>
{% endblock %}
